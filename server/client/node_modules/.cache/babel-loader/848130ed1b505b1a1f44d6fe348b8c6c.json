{"ast":null,"code":"export var getCities = function getCities(cities) {\n  return {\n    type: \"GET_CITIES\",\n    cities: cities //cities: cities\n\n  };\n};\nexport var getCitiesIsLoaded = function getCitiesIsLoaded(citiesIsLoaded) {\n  return {\n    type: \"CITIES_LOADED\",\n    citiesIsLoaded: citiesIsLoaded\n  };\n};\nexport function fetchCities() {\n  console.log('hello');\n  return function (dispatch) {\n    fetch(\"/api/cities\", {\n      method: \"GET\",\n      mode: \"no-cors\",\n      headers: {\n        'accept': 'application/json',\n        'content-type': 'application/x-www-form-urlencoded'\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      dispatch(getCities(json.data));\n      dispatch(getCitiesIsLoaded(true));\n    }).catch(function (err) {\n      return console.error(err);\n    });\n  };\n}\nexport var getItineraries = function getItineraries(itineraries) {\n  return {\n    type: \"GET_ITINERARIES\",\n    itineraries: itineraries\n  };\n};\nexport function fetchItineraries(city) {\n  return function (dispatch) {\n    fetch(\"/api/itineraries/\" + city, {\n      method: \"GET\",\n      mode: \"no-cors\",\n      headers: {\n        'accept': \"application/json\",\n        'content-type': \"application/x-www-form-urlencoded\"\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (res) {\n      dispatch(getItineraries(res));\n    }); // .then(json => {\n    //     console.log(json);\n    //     dispatch(getItineraries(json.data))\n    // })\n    // .catch(err => console.error(err))\n  };\n}","map":{"version":3,"sources":["/Users/aminakano/Mytinerary/server/client/src/Store/Actions/actions.js"],"names":["getCities","cities","type","getCitiesIsLoaded","citiesIsLoaded","fetchCities","console","log","dispatch","fetch","method","mode","headers","then","response","json","data","catch","err","error","getItineraries","itineraries","fetchItineraries","city","res"],"mappings":"AAAA,OAAO,IAAMA,SAAS,GAAC,SAAVA,SAAU,CAACC,MAAD,EAAU;AAC7B,SAAO;AACHC,IAAAA,IAAI,EAAE,YADH;AAEHD,IAAAA,MAAM,EAANA,MAFG,CAEK;;AAFL,GAAP;AAIH,CALM;AAOP,OAAO,IAAME,iBAAiB,GAAC,SAAlBA,iBAAkB,CAACC,cAAD,EAAkB;AAC7C,SAAO;AACHF,IAAAA,IAAI,EAAE,eADH;AAEHE,IAAAA,cAAc,EAAdA;AAFG,GAAP;AAIH,CALM;AAMP,OAAO,SAASC,WAAT,GAAsB;AACzBC,EAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACA,SAAO,UAAAC,QAAQ,EAAG;AACdC,IAAAA,KAAK,CAAC,aAAD,EAAe;AAChBC,MAAAA,MAAM,EAAE,KADQ;AAEhBC,MAAAA,IAAI,EAAE,SAFU;AAGhBC,MAAAA,OAAO,EAAC;AACJ,kBAAU,kBADN;AAEJ,wBAAgB;AAFZ;AAHQ,KAAf,CAAL,CAQCC,IARD,CAQM,UAAAC,QAAQ;AAAA,aAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,KARd,EASCF,IATD,CASM,UAAAE,IAAI,EAAI;AACVP,MAAAA,QAAQ,CAACR,SAAS,CAACe,IAAI,CAACC,IAAN,CAAV,CAAR;AACAR,MAAAA,QAAQ,CAACL,iBAAiB,CAAC,IAAD,CAAlB,CAAR;AACH,KAZD,EAaCc,KAbD,CAaO,UAAAC,GAAG;AAAA,aAAIZ,OAAO,CAACa,KAAR,CAAcD,GAAd,CAAJ;AAAA,KAbV;AAcH,GAfD;AAgBH;AAED,OAAO,IAAME,cAAc,GAAC,SAAfA,cAAe,CAACC,WAAD,EAAe;AACvC,SAAO;AACHnB,IAAAA,IAAI,EAAE,iBADH;AAEHmB,IAAAA,WAAW,EAAXA;AAFG,GAAP;AAIH,CALM;AAMP,OAAO,SAASC,gBAAT,CAA0BC,IAA1B,EAA+B;AAClC,SAAO,UAAAf,QAAQ,EAAG;AACdC,IAAAA,KAAK,CAAC,sBAAsBc,IAAvB,EAA4B;AAC7Bb,MAAAA,MAAM,EAAC,KADsB;AAE7BC,MAAAA,IAAI,EAAE,SAFuB;AAG7BC,MAAAA,OAAO,EAAC;AACJ,kBAAU,kBADN;AAEJ,wBAAgB;AAFZ;AAHqB,KAA5B,CAAL,CASCC,IATD,CASM,UAAAC,QAAQ;AAAA,aAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,KATd,EAUCF,IAVD,CAUM,UAAAW,GAAG,EAAG;AACRhB,MAAAA,QAAQ,CAACY,cAAc,CAACI,GAAD,CAAf,CAAR;AACH,KAZD,EADc,CAcd;AACA;AACA;AAEA;AACA;AACH,GApBD;AAqBH","sourcesContent":["export const getCities=(cities)=>{\n    return {\n        type: \"GET_CITIES\",\n        cities  //cities: cities\n    }\n}\n\nexport const getCitiesIsLoaded=(citiesIsLoaded)=>{\n    return {\n        type: \"CITIES_LOADED\",\n        citiesIsLoaded  \n    }\n}\nexport function fetchCities(){\n    console.log('hello')\n    return dispatch =>{\n        fetch(\"/api/cities\",{\n            method: \"GET\",\n            mode: \"no-cors\",\n            headers:{\n                'accept': 'application/json',\n                'content-type': 'application/x-www-form-urlencoded'\n            }\n        })\n        .then(response => response.json())\n        .then(json => {\n            dispatch(getCities(json.data))\n            dispatch(getCitiesIsLoaded(true))\n        }) \n        .catch(err => console.error(err))\n    }\n}\n\nexport const getItineraries=(itineraries)=>{\n    return {\n        type: \"GET_ITINERARIES\",\n        itineraries\n    }\n}\nexport function fetchItineraries(city){\n    return dispatch =>{\n        fetch(\"/api/itineraries/\" + city,{\n            method:\"GET\",\n            mode: \"no-cors\",\n            headers:{\n                'accept': \"application/json\",\n                'content-type': \"application/x-www-form-urlencoded\"\n            }\n        })\n       \n        .then(response => response.json())\n        .then(res =>{\n            dispatch(getItineraries(res))\n        })\n        // .then(json => {\n        //     console.log(json);\n        //     dispatch(getItineraries(json.data))\n            \n        // })\n        // .catch(err => console.error(err))\n    }\n}"]},"metadata":{},"sourceType":"module"}